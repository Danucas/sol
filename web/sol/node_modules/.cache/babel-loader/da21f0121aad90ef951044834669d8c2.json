{"ast":null,"code":"var _jsxFileName = \"/home/dan/Documents/sol/sol/src/Login.js\";\nimport React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom'; // import loginStyles from 'Login.module.css';\n\nimport shops from 'shops/Shops.module.css';\nconst cont = document.getElementById('root');\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let full;\n\n    if (this.state.username && this.state.passwd) {\n      full = true;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: contStyle.editor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: shops.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 6\n      }\n    }, \"Hi! happy to see you today!\"), this.props.error ? /*#__PURE__*/React.createElement(\"p\", {\n      className: [shops.description, shops.error].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 7\n      }\n    }, this.props.error) : /*#__PURE__*/React.createElement(\"p\", {\n      className: shops.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }\n    }, \"please use your credentials to access your shop\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: contStyle.fields,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: contStyle.input_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }\n    }), \"e-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      defaultValue: this.state.email,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: contStyle.input_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }\n    }), \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"passwd\",\n      type: \"password\",\n      defaultValue: this.state.passwd,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 8\n      }\n    }))), full ? /*#__PURE__*/React.createElement(\"button\", {\n      className: [contStyle.unblocked, shops.finish].join(' '),\n      onClick: () => this.login(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, \"finish\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: [contStyle.blocked, shops.finish].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, \"finish\"));\n  }\n\n  handleChange(evn) {\n    const state = this.state;\n    state[evn.target.name] = evn.target.value;\n    console.log('Input changed');\n    this.setState(state);\n  }\n\n  login() {\n    fetch(`http://localhost:8080/api/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': localStorage.getItem('tmpToken')\n      },\n      body: JSON.stringify(this.state)\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n\n      if (json && json.token) {\n        localStorage.setItem('tmpToken', json.token);\n        ReactDOM.render( /*#__PURE__*/React.createElement(ProductsList, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 6\n          }\n        }), cont);\n      } else {\n        localStorage.setItem('tmpToken', null);\n        ReactDOM.render( /*#__PURE__*/React.createElement(Login, {\n          error: \"Your email or password is wrong\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 6\n          }\n        }), cont);\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/dan/Documents/sol/sol/src/Login.js"],"names":["React","ReactDOM","unmountComponentAtNode","shops","cont","document","getElementById","Login","Component","constructor","props","state","render","full","username","passwd","contStyle","editor","title","error","description","join","fields","input_container","email","evn","handleChange","unblocked","finish","login","blocked","target","name","value","console","log","setState","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","res","json","token","setItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom';\n// import loginStyles from 'Login.module.css';\nimport shops from 'shops/Shops.module.css';\n\nconst cont = document.getElementById('root');\n\nexport class Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\trender() {\n\t\tlet full;\n\t\tif (this.state.username && this.state.passwd) {\n\t\t\tfull = true;\n\t\t}\n\t\treturn (\n\t\t\t<div className={ contStyle.editor }>\n\t\t\t\t\t<h1 className={ shops.title }>Hi! happy to see you today!</h1>\n\t\t\t\t\t{this.props.error ? (\n\t\t\t\t\t\t<p className={ [shops.description, shops.error].join(' ') }>{ this.props.error }</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p className={ shops.description }>please use your credentials to access your shop</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={ contStyle.fields }>\n\t\t\t\t\t\t<div className={contStyle.input_container}>\n\t\t\t\t\t\t\t<h1><i></i>e-mail</h1>\n\t\t\t\t\t\t\t<input name=\"username\" defaultValue={ this.state.email }\n\t\t\t\t\t\t\t\tonChange={ (evn) => this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={contStyle.input_container}>\n\t\t\t\t\t\t\t<h1><i></i>password</h1>\n\t\t\t\t\t\t\t<input name=\"passwd\" type=\"password\" defaultValue={ this.state.passwd }\n\t\t\t\t\t\t\t\tonChange={ (evn)=> this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ full ? (\n\t\t\t\t\t\t<button className={ [contStyle.unblocked, shops.finish].join(' ') } onClick={ () => this.login() }>finish</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className={ [contStyle.blocked, shops.finish].join(' ') }>finish</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t);\n\t}\n\thandleChange(evn) {\n\t\tconst state = this.state;\n\t\tstate[evn.target.name] = evn.target.value;\n\t\tconsole.log('Input changed');\n\t\tthis.setState(state);\n\t}\n\tlogin() {\n\t\tfetch(`http://localhost:8080/api/auth/login`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('tmpToken')\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(\n\t\t\t\t\tthis.state\n\t\t\t\t)\n\t\t\t}\n\t\t).then(res => res.json())\n\t\t.then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json && json.token) {\n\t\t\t\tlocalStorage.setItem('tmpToken', json.token);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<ProductsList/>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('tmpToken', null);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<Login error=\"Your email or password is wrong\"/>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}