{"ast":null,"code":"var _jsxFileName = \"/home/dan/Documents/sol/sol/src/Login.js\";\nimport React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom';\nimport loginStyles from './Login.module.css';\nimport { MainView } from './App.js';\nconst cont = document.getElementById('root');\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let full;\n\n    if (this.state.email && this.state.password) {\n      full = true;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: loginStyles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 6\n      }\n    }, \"Hi! happy to see you today!\"), this.props.error ? /*#__PURE__*/React.createElement(\"p\", {\n      className: [loginStyles.error, loginStyles.info].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 7\n      }\n    }, this.props.error) : /*#__PURE__*/React.createElement(\"p\", {\n      className: loginStyles.info,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }\n    }, \"please use your credentials to access account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.input_containers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }\n    }), \"e-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      defaultValue: this.state.email,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.passwd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }\n    }), \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      defaultValue: this.state.password,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 8\n      }\n    }))), full ? /*#__PURE__*/React.createElement(\"button\", {\n      className: [loginStyles.finish, loginStyles.complete].join(' '),\n      onClick: () => this.login(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, \"Log In\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: loginStyles.finish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: loginStyles.create,\n      onClick: () => {\n        this.createAccount();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 6\n      }\n    }, \"Create Account\"));\n  }\n\n  handleChange(evn) {\n    const state = this.state;\n    state[evn.target.name] = evn.target.value;\n    console.log('Input changed');\n    this.setState(state);\n  }\n\n  createAccount() {\n    console.log('create account');\n    ReactDOM.render( /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }\n    }), cont);\n  }\n\n  login() {\n    // console.log(this.state);\n    fetch(`http://localhost:3001/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n\n      if (json && json.token) {\n        localStorage.setItem('token', json.token);\n        ReactDOM.render( /*#__PURE__*/React.createElement(MainView, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 6\n          }\n        }), cont);\n      } else {\n        localStorage.setItem('token', null);\n        ReactDOM.render( /*#__PURE__*/React.createElement(Login, {\n          error: \"Your email or password is wrong\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 6\n          }\n        }), cont);\n      }\n    });\n  }\n\n}\nexport class Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let full;\n\n    if (this.state.email && this.state.password && this.state.conf_pass) {\n      full = true;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: loginStyles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }, \"Hi!, Welcome to ...\"), this.props.error ? /*#__PURE__*/React.createElement(\"p\", {\n      className: [loginStyles.error, loginStyles.info].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, this.props.error) : /*#__PURE__*/React.createElement(\"p\", {\n      className: loginStyles.info,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, \"please use your credentials to create account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.input_containers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 12\n      }\n    }), \"e-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      defaultValue: this.state.email,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.passwd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 12\n      }\n    }), \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      defaultValue: this.state.password,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.passwd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 12\n      }\n    }), \"confirm password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"conf_pass\",\n      type: \"password\",\n      defaultValue: this.state.conf_pass,\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 8\n      }\n    }))), full ? /*#__PURE__*/React.createElement(\"button\", {\n      className: [loginStyles.finish, loginStyles.complete].join(' '),\n      onClick: () => this.register(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, \"Sign Up\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: loginStyles.finish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, \"SignUp\"));\n  }\n\n  handleChange(evn) {\n    const state = this.state;\n    state[evn.target.name] = evn.target.value;\n    console.log('Input changed');\n    this.setState(state);\n  }\n\n  createAccount() {\n    console.log('create account');\n  }\n\n  register() {\n    // console.log(this.state);\n    fetch(`http://localhost:3001/auth/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n\n      if (json && json.token) {\n        localStorage.setItem('token', json.token);\n        ReactDOM.render( /*#__PURE__*/React.createElement(MainView, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 6\n          }\n        }), cont);\n      } else {\n        localStorage.setItem('token', null);\n        ReactDOM.render( /*#__PURE__*/React.createElement(Register, {\n          error: \"Couldn't create your account\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 6\n          }\n        }), cont);\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/dan/Documents/sol/sol/src/Login.js"],"names":["React","ReactDOM","unmountComponentAtNode","loginStyles","MainView","cont","document","getElementById","Login","Component","constructor","props","state","render","full","email","password","login","title","error","info","join","input_containers","evn","handleChange","passwd","finish","complete","create","createAccount","target","name","value","console","log","setState","fetch","method","headers","body","JSON","stringify","then","res","json","token","localStorage","setItem","Register","conf_pass","register"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom';\nimport loginStyles from './Login.module.css';\nimport { MainView } from './App.js';\n\nconst cont = document.getElementById('root');\n\nexport class Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\trender() {\n\t\tlet full;\n\t\tif (this.state.email && this.state.password) {\n\t\t\tfull = true;\n\t\t}\n\t\treturn (\n\t\t\t<div className={ loginStyles.login }>\n\t\t\t\t\t<h1 className={ loginStyles.title }>Hi! happy to see you today!</h1>\n\t\t\t\t\t{this.props.error ? (\n\t\t\t\t\t\t<p className={ [loginStyles.error, loginStyles.info].join(' ') }>{ this.props.error }</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p className={ loginStyles.info }>please use your credentials to access account</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={ loginStyles.input_containers }>\n\t\t\t\t\t\t<div className={ loginStyles.email }>\n\t\t\t\t\t\t\t<h1><i></i>e-mail</h1>\n\t\t\t\t\t\t\t<input name=\"email\" defaultValue={ this.state.email }\n\t\t\t\t\t\t\t\tonChange={ (evn) => this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={loginStyles.passwd}>\n\t\t\t\t\t\t\t<h1><i></i>password</h1>\n\t\t\t\t\t\t\t<input name=\"password\" type=\"password\" defaultValue={ this.state.password }\n\t\t\t\t\t\t\t\tonChange={ (evn)=> this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ full ? (\n\t\t\t\t\t\t<button className={ [loginStyles.finish, loginStyles.complete].join(' ') } onClick={ () => this.login() }>Log In</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className={ loginStyles.finish }>Log In</button>\n\t\t\t\t\t)}\n\t\t\t\t\t<button className={ loginStyles.create } onClick={()=>{ this.createAccount() }}>Create Account</button>\n\t\t\t\t</div>\n\t\t);\n\t}\n\thandleChange(evn) {\n\t\tconst state = this.state;\n\t\tstate[evn.target.name] = evn.target.value;\n\t\tconsole.log('Input changed');\n\t\tthis.setState(state);\n\t}\n\tcreateAccount() {\n\t\tconsole.log('create account');\n\t\tReactDOM.render(\n\t\t\t(\n\t\t\t\t<Register></Register>\n\t\t\t),\n\t\t\tcont\n\t\t);\n\t}\n\tlogin() {\n\t\t// console.log(this.state);\n\t\tfetch(`http://localhost:3001/auth/login`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(\n\t\t\t\t\tthis.state\n\t\t\t\t)\n\t\t\t}\n\t\t).then(res => res.json())\n\t\t.then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json && json.token) {\n\t\t\t\tlocalStorage.setItem('token', json.token);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<MainView></MainView>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('token', null);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<Login error=\"Your email or password is wrong\"/>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class Register extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\trender() {\n\t\tlet full;\n\t\tif (this.state.email && this.state.password && this.state.conf_pass) {\n\t\t\tfull = true;\n\t\t}\n\t\treturn (\n\t\t\t<div className={ loginStyles.login }>\n\t\t\t\t\t<h1 className={ loginStyles.title }>Hi!, Welcome to ...</h1>\n\t\t\t\t\t{this.props.error ? (\n\t\t\t\t\t\t<p className={ [loginStyles.error, loginStyles.info].join(' ') }>{ this.props.error }</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p className={ loginStyles.info }>please use your credentials to create account</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={ loginStyles.input_containers }>\n\t\t\t\t\t\t<div className={ loginStyles.email }>\n\t\t\t\t\t\t\t<h1><i></i>e-mail</h1>\n\t\t\t\t\t\t\t<input name=\"email\" defaultValue={ this.state.email }\n\t\t\t\t\t\t\t\tonChange={ (evn) => this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={loginStyles.passwd}>\n\t\t\t\t\t\t\t<h1><i></i>password</h1>\n\t\t\t\t\t\t\t<input name=\"password\" type=\"password\" defaultValue={ this.state.password }\n\t\t\t\t\t\t\t\tonChange={ (evn)=> this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={ loginStyles.passwd }>\n\t\t\t\t\t\t\t<h1><i></i>confirm password</h1>\n\t\t\t\t\t\t\t<input name=\"conf_pass\" type=\"password\" defaultValue={ this.state.conf_pass }\n\t\t\t\t\t\t\t\tonChange={ (evn) => this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ full ? (\n\t\t\t\t\t\t<button className={ [loginStyles.finish, loginStyles.complete].join(' ') } onClick={ () => this.register() }>Sign Up</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className={ loginStyles.finish }>SignUp</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t);\n\t}\n\thandleChange(evn) {\n\t\tconst state = this.state;\n\t\tstate[evn.target.name] = evn.target.value;\n\t\tconsole.log('Input changed');\n\t\tthis.setState(state);\n\t}\n\tcreateAccount() {\n\t\tconsole.log('create account');\n\t}\n\tregister() {\n\t\t// console.log(this.state);\n\t\tfetch(`http://localhost:3001/auth/register`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(\n\t\t\t\t\tthis.state\n\t\t\t\t)\n\t\t\t}\n\t\t).then(res => res.json())\n\t\t.then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json && json.token) {\n\t\t\t\tlocalStorage.setItem('token', json.token);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<MainView></MainView>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('token', null);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<Register error=\"Couldn't create your account\"></Register>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}