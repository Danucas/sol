{"ast":null,"code":"var _jsxFileName = \"/home/dan/Documents/sol/sol/src/Login.js\";\nimport React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom';\nimport loginStyles from './Login.module.css';\nconst cont = document.getElementById('root');\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let full;\n\n    if (this.state.username && this.state.passwd) {\n      full = true;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 6\n      }\n    }, \"Hi! happy to see you today!\"), this.props.error ? /*#__PURE__*/React.createElement(\"p\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }, this.props.error) : /*#__PURE__*/React.createElement(\"p\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    }, \"please use your credentials to access your shop\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }\n    }), \"e-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      defaultValue: '',\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 12\n      }\n    }), \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"passwd\",\n      type: \"password\",\n      defaultValue: '',\n      onChange: evn => this.handleChange(evn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 8\n      }\n    }))), full ? /*#__PURE__*/React.createElement(\"button\", {\n      className: loginStyles.login,\n      onClick: () => this.login(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, \"finish\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: loginStyles.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, \"finish\"));\n  }\n\n  handleChange(evn) {\n    const state = this.state;\n    state[evn.target.name] = evn.target.value;\n    console.log('Input changed');\n    this.setState(state);\n  }\n\n  login() {\n    fetch(`http://localhost:3001/api/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state)\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n\n      if (json && json.token) {\n        localStorage.setItem('token', json.token);\n        ReactDOM.render( /*#__PURE__*/React.createElement(ProductsList, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 6\n          }\n        }), cont);\n      } else {\n        localStorage.setItem('token', null);\n        ReactDOM.render( /*#__PURE__*/React.createElement(Login, {\n          error: \"Your email or password is wrong\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 6\n          }\n        }), cont);\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/dan/Documents/sol/sol/src/Login.js"],"names":["React","ReactDOM","unmountComponentAtNode","loginStyles","cont","document","getElementById","Login","Component","constructor","props","state","render","full","username","passwd","login","error","evn","handleChange","target","name","value","console","log","setState","fetch","method","headers","body","JSON","stringify","then","res","json","token","localStorage","setItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM, { unmountComponentAtNode } from 'react-dom';\nimport loginStyles from './Login.module.css';\n\nconst cont = document.getElementById('root');\n\nexport class Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\trender() {\n\t\tlet full;\n\t\tif (this.state.username && this.state.passwd) {\n\t\t\tfull = true;\n\t\t}\n\t\treturn (\n\t\t\t<div className={ loginStyles.login }>\n\t\t\t\t\t<h1 className={ loginStyles.login }>Hi! happy to see you today!</h1>\n\t\t\t\t\t{this.props.error ? (\n\t\t\t\t\t\t<p className={ loginStyles.login }>{ this.props.error }</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p className={ loginStyles.login }>please use your credentials to access your shop</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={ loginStyles.login }>\n\t\t\t\t\t\t<div className={ loginStyles.login }>\n\t\t\t\t\t\t\t<h1><i></i>e-mail</h1>\n\t\t\t\t\t\t\t<input name=\"username\" defaultValue={ '' }\n\t\t\t\t\t\t\t\tonChange={ (evn) => this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={loginStyles.login}>\n\t\t\t\t\t\t\t<h1><i></i>password</h1>\n\t\t\t\t\t\t\t<input name=\"passwd\" type=\"password\" defaultValue={ '' }\n\t\t\t\t\t\t\t\tonChange={ (evn)=> this.handleChange(evn)}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ full ? (\n\t\t\t\t\t\t<button className={ loginStyles.login } onClick={ () => this.login() }>finish</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className={ loginStyles.login }>finish</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t);\n\t}\n\thandleChange(evn) {\n\t\tconst state = this.state;\n\t\tstate[evn.target.name] = evn.target.value;\n\t\tconsole.log('Input changed');\n\t\tthis.setState(state);\n\t}\n\tlogin() {\n\t\tfetch(`http://localhost:3001/api/auth/login`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(\n\t\t\t\t\tthis.state\n\t\t\t\t)\n\t\t\t}\n\t\t).then(res => res.json())\n\t\t.then(json => {\n\t\t\tconsole.log(json);\n\t\t\tif (json && json.token) {\n\t\t\t\tlocalStorage.setItem('token', json.token);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<ProductsList/>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('token', null);\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<Login error=\"Your email or password is wrong\"/>,\n\t\t\t\t\tcont\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}